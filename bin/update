#!/usr/bin/env ruby
require "update"
require "slop"
require "ap"

opts = Slop.parse(help: true, 
                  banner: "Usage: update [options]", 
                  ignore_case: true, 
                  strict: true) do

	on :v, :version, "Print version information" do
    puts "Version #{Update::VERSION} on Ruby #{RUBY_VERSION}."
    puts "<shannonskipper@gmail.com>"
    exit
	end
	
	on :l, :list, "Print list of commands" do
		ap Update::COMMANDS
		exit
	end

  on :e, :edit, "Edit list of commands" do
    puts "Edit the list of commands and descriptions. Usage:\n"
    puts "cd #{File.expand_path('../../lib/update',__FILE__)}\n"
    puts "Then open 'commands.rb' with a text editor..."
    puts "and add your command and description to the Hash.\n"
    puts "TODO: Better (read 'sane') way of doing this..."
    exit
  end
end

Update.run