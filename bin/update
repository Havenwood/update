#!/usr/bin/env ruby
require "update"
require "slop"
require "ap"

opts = Slop.parse(:help => true, :banner => "Usage: update [options]") do
	on :v, :version, "Print version information" do
    puts "Version #{Update::VERSION} on Ruby #{RUBY_VERSION}"
    puts "<shannonskipper@gmail.com>"
    exit
	end
	
	on :l, :list, "Print list of commands" do
		ap Update::commands
		exit
	end
	
	on :a, :add, "Add a command to the list of commands" do
		prints "Command to add to your list (including any arguments): "
		command = gets.chomp
		puts
		prints "Enter human-readable description of the above command."
		description = gets.chomp
		Update::commands["#{command}"] = description
		ap Update::commands
	end
end

Update.run